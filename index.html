<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <link
      rel="stylesheet"
      href="styles.css"
    />
    
    <title>Página de Autenticación</title>
  </head>
  <body>
    <div class="container">
      <div class="login-container">
        <h2 class="text-center">Iniciar Sesión</h2>
        <form id="formLogin" name="formLogin">
          <div class="form-group">
            <label for="correo">Correo electrónico:</label>
            <input
              type="email"
              class="form-control"
              id="correo"
              name="correo"
              placeholder="Ingrese su correo"
              required
            />
          </div>
          <div class="form-group">
            <label for="contrasena">Contraseña:</label>
            <input
              type="password"
              class="form-control"
              id="contrasena"
              name="contrasena"
              placeholder="Ingrese su contraseña"
              required
            />
          </div>
          <button
            submit ="button"
            class="btn btn-primary btn-block"
            onclick="loginUser()"
          >
            Iniciar Sesión
          </button>
          
          <a href="register.html" class="btn btn-link btn-block">Registrarse</a>
        </form>
      </div>
    </div>

    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.2/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.2/dist/js/bootstrap.min.js"></script>

    <!-- Firebase -->
    <!--The core Firebase JS SDK is always required and must be listed first -->
    <script src="https://www.gstatic.com/firebasejs/7.3.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.3.0/firebase-analytics.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.3.0/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.3.0/firebase-database.js"></script>

    <script>
      var firebaseConfig = {
        apiKey: "AIzaSyAxNRlFhIyeV4iUhwnRmLopFPnQ0qeazTY",
        authDomain: "web40-f63e1.firebaseapp.com",
        projectId: "web40-f63e1",
        storageBucket: "web40-f63e1.appspot.com",
        messagingSenderId: "159233840067",
        appId: "1:159233840067:web:de23c04986bd47e82c2376",
        measurementId: "G-TGF9Z59X77"
      };
      
      // Initialize Firebase
      firebase.initializeApp(firebaseConfig);
      firebase.analytics();

      // Get the auth object
      var auth = firebase.auth();

      function loginUser() {
        var email = document.getElementById("correo").value;
        var password = document.getElementById("contrasena").value;

        console.log(`correo: ${email}, contraseña: ${password}`);

        auth.signInWithEmailAndPassword(email, password)
          .then((success) => {
            console.log("Inicio de sesión exitoso");
          })
          .catch((error) => {
            console.error("Error al iniciar sesión", error.message);
          });
      }
    </script>
    <script src="/js/app.js" type="module"></script>
  </body>
</html>
